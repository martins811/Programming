# -*- coding: utf-8 -*-
"""Untitled1.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ytv0kzJp3Z5GhuOQ9jQGfBmy2Qfuws8x
"""

import pygame
import sys
from random import randint

# Initialize pygame
pygame.init()

# Game Settings
SCREEN_WIDTH, SCREEN_HEIGHT = 800, 600
BG_COLOR = (30, 30, 30)
SHIP_SPEED = 5
BULLET_SPEED = 7
ALIEN_SPEED = 2
ALIEN_DROP_SPEED = 20
SHIP_WIDTH, SHIP_HEIGHT = 60, 15
ALIEN_WIDTH, ALIEN_HEIGHT = 50, 40
BULLET_WIDTH, BULLET_HEIGHT = 5, 10

# Create game window
screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
pygame.display.set_caption("Alien Invasion")

# Define ship (rectangle)
ship = pygame.Rect(SCREEN_WIDTH // 2 - SHIP_WIDTH // 2, SCREEN_HEIGHT - 50, SHIP_WIDTH, SHIP_HEIGHT)

# Bullet list
bullets = []

# Alien list
aliens = [pygame.Rect(randint(50, SCREEN_WIDTH - 50), randint(20, 150), ALIEN_WIDTH, ALIEN_HEIGHT) for _ in range(5)]

# Game loop
running = True
while running:
    screen.fill(BG_COLOR)

    # Event Handling
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

    # Ship Movement
    keys = pygame.key.get_pressed()
    if keys[pygame.K_LEFT] and ship.left > 0:
        ship.x -= SHIP_SPEED
    if keys[pygame.K_RIGHT] and ship.right < SCREEN_WIDTH:
        ship.x += SHIP_SPEED
    if keys[pygame.K_SPACE]:  # Fire Bullet
        bullets.append(pygame.Rect(ship.centerx - BULLET_WIDTH // 2, ship.top, BULLET_WIDTH, BULLET_HEIGHT))

    # Bullet Movement
    for bullet in bullets[:]:
        bullet.y -= BULLET_SPEED
        if bullet.bottom < 0:
            bullets.remove(bullet)

    # Alien Movement
    for alien in aliens[:]:
        alien.y += ALIEN_SPEED
        if alien.bottom > SCREEN_HEIGHT:
            aliens.remove(alien)  # Remove alien if it reaches the bottom
            aliens.append(pygame.Rect(randint(50, SCREEN_WIDTH - 50), randint(20, 150), ALIEN_WIDTH, ALIEN_HEIGHT))

    # Collision Detection
    for bullet in bullets[:]:
        for alien in aliens[:]:
            if bullet.colliderect(alien):
                bullets.remove(bullet)
                aliens.remove(alien)
                aliens.append(pygame.Rect(randint(50, SCREEN_WIDTH - 50), randint(20, 150), ALIEN_WIDTH, ALIEN_HEIGHT))

    # Draw ship, bullets, and aliens
    pygame.draw.rect(screen, (0, 0, 255), ship)  # Blue ship
    for bullet in bullets:
        pygame.draw.rect(screen, (255, 255, 255), bullet)  # White bullets
    for alien in aliens:
        pygame.draw.rect(screen, (0, 255, 0), alien)  # Green aliens

    # Update display
    pygame.display.flip()
    pygame.time.delay(30)

pygame.quit()
sys.exit()
